"use strict";(self.webpackChunkqtube=self.webpackChunkqtube||[]).push([[885],{2822:function(e,t,i){i.r(t),i.d(t,{default:function(){return j}});var n=i(7294),a=i(5592),r=i(262),o=i(1721),s=i(1597),l=i(4694),u=i(5697),c=i.n(u);function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}function w(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function b(e){return t=e,(t-=0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var y=["style"];function x(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var i,n=t.indexOf(":"),a=b(t.slice(0,n)),r=t.slice(n+1).trim();return a.startsWith("webkit")?e[(i=a,i.charAt(0).toUpperCase()+i.slice(1))]=r:e[a]=r,e}),{})}var v=!1;try{v=!0}catch(I){}function k(e){return e&&"object"===p(e)&&e.prefix&&e.iconName&&e.icon?e:l.parse.icon?l.parse.icon(e):null===e?null:e&&"object"===p(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function P(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?m({},e,t):{}}var O=["forwardedRef"];function S(e){var t=e.forwardedRef,i=h(e,O),n=i.icon,a=i.mask,r=i.symbol,o=i.className,s=i.title,u=i.titleId,c=i.maskId,d=k(n),p=P("classes",[].concat(w(function(e){var t,i=e.beat,n=e.fade,a=e.beatFade,r=e.bounce,o=e.shake,s=e.flash,l=e.spin,u=e.spinPulse,c=e.spinReverse,d=e.pulse,f=e.fixedWidth,p=e.inverse,h=e.border,w=e.listItem,g=e.flip,b=e.size,y=e.rotation,x=e.pull,v=(m(t={"fa-beat":i,"fa-fade":n,"fa-beat-fade":a,"fa-bounce":r,"fa-shake":o,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":f,"fa-inverse":p,"fa-border":h,"fa-li":w,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(b),null!=b),m(t,"fa-rotate-".concat(y),null!=y&&0!==y),m(t,"fa-pull-".concat(x),null!=x),m(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(v).map((function(e){return v[e]?e:null})).filter((function(e){return e}))}(i)),w(o.split(" ")))),g=P("transform","string"==typeof i.transform?l.parse.transform(i.transform):i.transform),b=P("mask",k(a)),y=(0,l.icon)(d,f(f(f(f({},p),g),b),{},{symbol:r,title:s,titleId:u,maskId:c}));if(!y)return function(){var e;!v&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",d),null;var x=y.abstract,E={ref:t};return Object.keys(i).forEach((function(e){S.defaultProps.hasOwnProperty(e)||(E[e]=i[e])})),M(x[0],E)}S.displayName="FontAwesomeIcon",S.propTypes={beat:c().bool,border:c().bool,bounce:c().bool,className:c().string,fade:c().bool,flash:c().bool,mask:c().oneOfType([c().object,c().array,c().string]),maskId:c().string,fixedWidth:c().bool,inverse:c().bool,flip:c().oneOf(["horizontal","vertical","both"]),icon:c().oneOfType([c().object,c().array,c().string]),listItem:c().bool,pull:c().oneOf(["right","left"]),pulse:c().bool,rotation:c().oneOf([0,90,180,270]),shake:c().bool,size:c().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:c().bool,spinPulse:c().bool,spinReverse:c().bool,symbol:c().oneOfType([c().bool,c().string]),title:c().string,titleId:c().string,transform:c().oneOfType([c().string,c().object]),swapOpacity:c().bool},S.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var M=function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof i)return i;var a=(i.children||[]).map((function(i){return e(t,i)})),r=Object.keys(i.attributes||{}).reduce((function(e,t){var n=i.attributes[t];switch(t){case"class":e.attrs.className=n,delete i.attributes.class;break;case"style":e.attrs.style=x(n);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=n:e.attrs[b(t)]=n}return e}),{attrs:{}}),o=n.style,s=void 0===o?{}:o,l=h(n,y);return r.attrs.style=f(f({},r.attrs.style),s),t.apply(void 0,[i.tag,f(f({},r.attrs),l)].concat(w(a)))}.bind(null,n.createElement),E=i(8014),_=function(e){function t(t){var i;return(i=e.call(this,t)||this).state={demo:null,refreshInterval:null,gametime:0,playing:!0,playbackSpeed:100,volume:Math.sqrt(.05),volumeMuted:!1,volumeHover:!1,volumeIcon:E.oo5,playerControlTimeout:0,firstRefresh:!0,initialSpeed:null,initialPlayer:null,initialPosition:null},i.canvasRef=n.createRef(),i.playerRef=n.createRef(),i.playing=!0,i.playbackSpeed=100,i}(0,o.Z)(t,e);var i=t.prototype;return i.componentDidMount=function(){var e,t=this,i="id1/maps/"+this.props.map+".bsp",n="id1/maps/"+this.props.map+".lit",a=(0,s.withPrefix)("/data/id1/maps/"+this.props.map+".bsp"),r=(0,s.withPrefix)("/data/id1/maps/"+this.props.map+".lit");window.Module={canvas:this.canvasRef.current,files:(e={"default.fmf":(0,s.withPrefix)("/data/default.fmf"),"id1/config.cfg":(0,s.withPrefix)("/data/id1/config.cfg"),"id1/id1_bmodels.pk3":(0,s.withPrefix)("/data/id1/id1_bmodels.pk3"),"id1/id1_skins.pk3":(0,s.withPrefix)("/data/id1/id1_skins.pk3"),"id1/id1_progs.pk3":(0,s.withPrefix)("/data/id1/id1_progs.pk3"),"id1/qw_progs.pk3":(0,s.withPrefix)("/data/id1/qw_progs.pk3"),"id1/gfx.pk3":(0,s.withPrefix)("/data/id1/gfx.pk3"),"id1/sound.pk3":(0,s.withPrefix)("/data/id1/sound.pk3"),"id1/textures.pk3":(0,s.withPrefix)("/data/id1/textures.pk3"),"id1/plaguespack_fte.pk3":(0,s.withPrefix)("/data/id1/plaguespack_fte.pk3")},e[i]=(0,s.withPrefix)(a),e[n]=(0,s.withPrefix)(r),e["id1/textures/#04water1.png"]=(0,s.withPrefix)("/data/tex/water.png"),e["id1/textures/rock4_2.png"]=(0,s.withPrefix)("/data/tex/rock4_2.png"),e["id1/textures/sky1.png"]=(0,s.withPrefix)("/data/tex/sky1.png"),e["id1/textures/sky4.png"]=(0,s.withPrefix)("/data/tex/sky4.png"),e["id1/textures/wall14_5.png"]=(0,s.withPrefix)("/data/tex/wall14_5.png"),e["id1/textures/#water0.png"]=(0,s.withPrefix)("/data/tex/#water1.png"),e["id1/textures/#water1.png"]=(0,s.withPrefix)("/data/tex/#water1.png"),e["id1/textures/#water2p.png"]=(0,s.withPrefix)("/data/tex/#water1.png"),e["id1/textures/wbrick1_5.png"]=(0,s.withPrefix)("/data/tex/wbrick1_5.png"),e["id1/textures/wexit01.png"]=(0,s.withPrefix)("/data/tex/wexit01.png"),e["id1/textures/wgrnd1_6.png"]=(0,s.withPrefix)("/data/tex/wgrnd1_6.png"),e["id1/textures/wiz1_4.png"]=(0,s.withPrefix)("/data/tex/wiz1_4.png"),e["id1/textures/wizmet1_6.png"]=(0,s.withPrefix)("/data/tex/wizmet1_6.png"),e["id1/textures/wswamp1_2.png"]=(0,s.withPrefix)("/data/tex/wswamp1_2.png"),e["id1/textures/wwood1_5.png"]=(0,s.withPrefix)("/data/tex/wwood1_5.png"),e["id1/textures/*teleport.png"]=(0,s.withPrefix)("/data/tex/teleport.png"),e["id1/gfx/ranking.png"]=(0,s.withPrefix)("/data/tex/ranking.png"),e["qw/fragfile.dat"]=(0,s.withPrefix)("/data/fragfile.dat"),e["qw/match.mvd.gz"]="https://media.githubusercontent.com/media/qw-ctf/matches/main/weeklies/"+encodeURIComponent(this.props.demo)+".gz",e)};var o=document.createElement("script");o.src=(0,s.withPrefix)("/ftewebgl.js"),document.head.appendChild(o),document.onfullscreenchange=function(e){var i=t.playerRef.current.clientWidth/4*window.devicePixelRatio;window.onresize(),window.Module.execute("vid_conwidth "+i.toString())};for(var l=window.location.hash.substring(1).split("&"),u=0;u<l.length;u++){var c=l[u].split("=");if(2==c.length)switch(c[0]){case"player":this.setState({initialPlayer:Number.parseInt(c[1])});break;case"speed":this.setState({initialSpeed:Number.parseInt(c[1])});break;case"position":this.setState({initialPosition:Number.parseInt(c[1])});break;case"loop":this.setState({loop:Number.parseInt(c[1])})}}setInterval(this.onFteRefresh.bind(this),250)},i.onFteRefresh=function(){window.Module.gametime&&this.setState({gametime:window.Module.gametime()}),0!==this.state.playerControlTimeout&&this.state.playerControlTimeout<Date.now()&&this.setState({playerControlTimeout:0}),this.state.firstRefresh&&this.state.gametime>0&&(this.state.initialPlayer&&(window.Module.execute("cl_autotrack off"),window.Module.execute("autotrack off"),window.Module.execute("track "+this.state.initialPlayer)),this.state.initialSpeed&&window.Module.execute("demo_setspeed "+this.state.initialSpeed),this.state.initialPosition&&window.Module.execute("demo_jump "+this.state.initialPosition),this.setState({firstRefresh:!1})),this.state.loop&&this.state.gametime>=this.state.initialPosition+this.state.loop&&window.Module.execute("demo_jump "+this.state.initialPosition),this.state.gametime>0&&this.state.initialPlayer&&window.Module.execute("track "+this.state.initialPlayer)},i.onCanvasClick=function(e){switch(e.detail){case 1:this.togglePlay();break;case 2:this.toggleFullscreen()}},i.togglePlay=function(){this.state.playing?(window.Module.execute("demo_setspeed 0"),this.setState({playing:!1})):(window.Module.execute("demo_setspeed "+this.playbackSpeed),this.setState({playing:!0}))},i.toggleFullscreen=function(){document.fullscreenElement?document.exitFullscreen():(document.fullscreenElement=this.playerRef.current,this.playerRef.current.width=window.screen.width/window.devicePixelRatio,this.playerRef.current.height=window.screen.height/window.devicePixelRatio,this.playerRef.current.requestFullscreen(),window.onresize())},i.toggleMuted=function(){if(this.state.volumeMuted){this.setState({volumeMuted:!1});var e=this.state.volume*this.state.volume;window.Module.execute("volume "+e)}else this.setState({volumeMuted:!0}),window.Module.execute("volume 0")},i.onVolumeChange=function(e){var t=this.state.volume*this.state.volume;window.Module.execute("volume "+t),this.setState({volume:e.target.value}),0===e.target.value?this.setState({volumeIcon:E.OEn}):e.target.value<.5?this.setState({volumeIcon:E.oo5}):this.setState({volumeIcon:E.AQZ})},i.onMouseMove=function(){this.setState({playerControlTimeout:Date.now()+3e3})},i.onMouseOut=function(){this.setState({playerControlTimeout:0})},i.onTouchStart=function(){window.Module.execute("+showteamscores")},i.onTouchEnd=function(){window.Module.execute("-showteamscores")},i.onDemoSeek=function(e){var t=Math.floor(e.clientX/e.target.offsetParent.offsetWidth*610);console.log(t,e.clientX,e.target.offsetWidth,e),window.Module.execute("demo_jump "+t)},i.render=function(){var e=Math.floor(this.state.gametime/60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),t=Math.floor(this.state.gametime%60).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),i=(this.state.gametime/600*100).toString()+"%";return n.createElement("div",{ref:this.playerRef,onMouseMove:this.onMouseMove.bind(this),onMouseOut:this.onMouseOut.bind(this),onBlur:this.onMouseOut.bind(this),className:"fte-module--videoPlayer--yQSI3"},n.createElement("canvas",{id:"canvas",ref:this.canvasRef,className:"fte-module--emscripten--YE-lC",onClick:this.onCanvasClick.bind(this),onTouchStart:this.onTouchStart.bind(this),onTouchEnd:this.onTouchEnd.bind(this),style:{cursor:this.state.playerControlTimeout?"auto":"none"}}),n.createElement("div",{className:this.state.playerControlTimeout?"fte-module--playerControlsShow--c5HGv":"fte-module--playerControls--BDzyd"},n.createElement("div",{className:"fte-module--videoProgress--cPgiY",onClick:this.onDemoSeek.bind(this)},n.createElement("div",{className:"fte-module--videoProgressFilled--bp59k",style:{width:i}})),n.createElement("button",{className:"fte-module--playButton--lQj2j",title:"Play",onClick:this.togglePlay.bind(this)},n.createElement(S,{icon:this.state.playing?E.XQY:E.zc})),n.createElement("button",{className:"fte-module--volumeButton--z3fhm",title:"Volume",onClick:this.toggleMuted.bind(this)},n.createElement(S,{icon:this.state.volumeMuted?E.c0k:this.state.volumeIcon})),n.createElement("input",{type:"range",className:"fte-module--volumeRange--yyRDV",min:"0",max:"1",step:"0.01",value:this.state.volume,disabled:this.state.volumeMuted,onChange:this.onVolumeChange.bind(this)}),n.createElement("div",{className:"fte-module--time--bRGVl"},n.createElement("span",{id:"demotime"},e,":",t," / 10:00")),n.createElement("button",{className:"fte-module--fullscreenButton--rjRKu",onClick:this.toggleFullscreen.bind(this),style:{color:"white"}},n.createElement(S,{icon:E.TL5}))))},t}(n.Component),C=function(){return n.createElement("div",{className:"discord-module--discordButton--AhOaV"},n.createElement("a",{href:"https://discord.gg/Y39QWy8W",target:"_blank"},n.createElement("div",{className:"discord-module--icon--bgRfB"},n.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 245 240"},n.createElement("path",{class:"st0",d:"M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"}),n.createElement("path",{class:"st0",d:"M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"}))),n.createElement("span",null,"Join the Discord")))},j=function(e){var t=e.pageContext,i=t.demo,o=t.map;return n.createElement(a.Z,null,n.createElement(r.Z,{title:"demo"}),n.createElement(_,{demo:i,map:o}),n.createElement(C,null))}}}]);
//# sourceMappingURL=component---src-pages-match-js-1a6ab3cb805138af8749.js.map